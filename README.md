# localhost-ly

Простая реализация сервиса сжатия адресов

## Детали реализации

Каждый посетитель идентифицируется уникальной кукой (проставляемой навечно)

## Инструкция по установке

* Параметры базы данных задаются в настроечном файле. По умолчанию используется сервер .\SQLEXPRESS, базы LocalhostLy.Web для веб-интерфейса и LocalhostLy.Tests для тестов. Базы данных создадуться автоматически при наличии прав.

## Комментарии по реализации

Основая идея такого подхода к реализации бизнес-логики в полной отственности сервиса за корректностью загрузки и сохранения своих данных. Наружу правильнее было бы возвращать не POCO-объекты, а полностью загруженные объекты-сообщения, которые можно сразу использовать в REST или отправлять в шину событий. Так же для больших объектов имеет смысл выделять отдельную сборку с интерфейсами, чтобы исключить циклические зависимости между реализацией сервисов.

Если решать только поставленную задачу, можно было бы обойтись без сервиса, обойтись одной моделью данных и контекстом, а всю логику реализовать в контроллерах, т.е. система небольшая и лишние усложнения только будут мешать. 

В решении использован шаблон Service Discovery вместо Dependency Injection. Более цельное решение было бы использовать какой-нибудь AutoFac для настройки зависимостей и ресолвить зависимости через него, и предоставить два варианта ресолва: через DI и сервис дискавери.

Интерфейс собран под задачу. Для больших проектов нужно собирать файлы в бандлы, выделять компоненты, использовать какой-нибудь PostCSS или LESS и т.п. 

В базе данных в таблице Links должны быть два индекса: по Author и ShortLink. 


